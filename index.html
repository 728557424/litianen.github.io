<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>感恩有你</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            font-family: 'KaiTi', '楷体', sans-serif; /* 设置字体为行楷 */
            font-size: 2em;
            color: white; /* 白色字体，保证与背景对比 */
            background: #000; /* 默认背景色，防止加载图片前是空白 */
            background-size: cover;
            background-repeat: no-repeat;
            background-attachment: fixed;
            background-position: center;
        }
        .idiom {
            background-color: rgba(0, 0, 0, 0.6); /* 半透明背景 */
            padding: 20px;
            border-radius: 10px;
            white-space: pre-wrap; /* 保证换行 */
            writing-mode: vertical-rl; /* 竖排文本，从右至左 */
            text-align: right;
            line-height: 1.5em;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5); /* 增加阴影效果 */
        }
    </style>
    <script>
        function preloadImage(url, callback) {
            const img = new Image();
            img.src = url;
            img.onload = callback;
        }

        function isWeChatBrowser() {
            const ua = navigator.userAgent.toLowerCase();
            return ua.indexOf('micromessenger') !== -1;
        }

        function setBackgroundImage(url) {
            document.body.style.backgroundImage = `url(${url})`;
        }

        function generateIdiom() {
            const idioms = [
                "因为，他的怒气不过是转眼之间，他的恩典乃是一生之久。一宿虽然有哭泣，早晨便必欢呼。(诗篇 30:5 和合本)",
                "我知道怎样处卑贱，也知道怎样处丰富，或饱足、或饥饿、或有余、或缺乏，随事随在，我都得了秘诀。我靠着那加给我力量的，凡事都能作。(腓立比书 4:12-13 和合本)",
                "既是儿女，便是后嗣，就是　神的后嗣，和基督同作后嗣。如果我们和他一同受苦，也必和他一同得荣耀。（罗马书8:17 和合本）",
                "因为宝座中的羔羊必牧养他们，领他们到生命水的泉源；　神也必擦去他们一切的眼泪。”(启示录7:17 和合本)",
                "【箴4:23】你要保守你心，胜过保守一切（或作“你要切切保守你心”），因为一生的果效，是由心发出。",
                "【诗121:5-6】保护你的是耶和华，耶和华在你右边荫庇你。白日，太阳必不伤你；夜间，月亮必不害你。",
                "有人靠车，有人靠马，但我们要提到耶和华－我们　神的名。(诗篇 20:7 和合本)",
                "爱是恒久忍耐，又有恩慈；爱是不嫉妒；爱是不自夸，不张狂，不做害羞的事，不求自己的益处，不轻易发怒，不计算人的恶，不喜欢不义，只喜欢真理；凡事包容，凡事相信，凡事盼望，凡事忍耐。爱是永不止息。哥林多前书 13:4-8",
                "事务多，就令人作梦；言语多，就显出愚昧。传道书5:3",
                "恨能挑启争端；爱能遮掩一切过错。(箴言10:12 和合本）",
                "操练身体，益处还少；惟独敬虔，凡事都有益处，因有今生和来生的应许。(提摩太前书 4:8 和合本)",
                "不要爱世界和世界上的事。人若爱世界，爱父的心就不在他里面了。因为，凡世界上的事，就像肉体的情欲、眼目的情欲，并今生的骄傲，都不是从父来的，乃是从世界来的。(约翰一书 2:15-16 和合本)",
                "你们得救是本乎恩，也因着信；这并不是出于自己，乃是　神所赐的；也不是出于行为，免得有人自夸。（以弗所书2：8-9）",
                "也不要将你们的肢体献给罪作不义的器具；倒要像从死里复活的人，将自己献给 神，并将肢体作义的器具献给 神。（罗6：13）",
                "你的话是我脚前的灯，是我路上的光。(诗篇 119:105 和合本)",
                "我岂没有吩咐你吗？你当刚强壮胆！不要惧怕，也不要惊惶；因为你无论往哪里去，耶和华－你的　神必与你同在。” (约书亚记 1:9 和合本)",
                "恒常忍耐可以劝动君王；柔和的舌头能折断骨头。(箴言25:15 和合本)",
            ];

            const randomIdiom = idioms[Math.floor(Math.random() * idioms.length)];
            let formattedIdiom = randomIdiom.replace(/[。；]/g, '$&\n'); // 在句号和分号后添加换行
            formattedIdiom = formattedIdiom.replace(/\(/g, '\n('); // 左括号前换行

            // 显示经文
            document.getElementById("idiom-display").innerHTML = formattedIdiom;
        }

        document.addEventListener('DOMContentLoaded', function () {
            const imageUrl = 'https://example.com/your-image.jpg'; // 替换为你的图片地址
            preloadImage(imageUrl, () => setBackgroundImage(imageUrl));
            generateIdiom();
        });
    </script>
</head>
<body>
    <div class="idiom" id="idiom-display">正在生成经文...</div>
</body>
</html>
